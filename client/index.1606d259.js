import{S as a,i as e,s as r,e as t,t as n,b as s,f as l,g as i,d as c,h as o,j as h,k as f,l as g,a as u,c as p,n as P,m,o as v,p as d,r as E,u as $,v as N,w as y}from"./client.c8cbff04.js";import{G as A}from"./github.5b969c72.js";function b(a,e,r){const t=a.slice();return t[15]=e[r],t}function I(a){let e,r,g;return{c(){e=t("li"),r=t("span"),g=n("…"),this.h()},l(a){e=s(a,"LI",{});var t=l(e);r=s(t,"SPAN",{class:!0});var n=l(r);g=i(n,"…"),n.forEach(c),t.forEach(c),this.h()},h(){o(r,"class","pagination-ellipsis")},m(a,t){h(a,e,t),f(e,r),f(r,g)},d(a){a&&c(e)}}}function k(a){let e,r,u,p,P,m=a[15]+"";return{c(){e=t("li"),r=t("a"),u=n(m),this.h()},l(a){e=s(a,"LI",{});var t=l(e);r=s(t,"A",{class:!0,href:!0});var n=l(r);u=i(n,m),n.forEach(c),t.forEach(c),this.h()},h(){o(r,"class",p="pagination-link "+(a[0]===a[15]?"is-current":"")),o(r,"href",P=a[5](a[15]))},m(a,t){h(a,e,t),f(e,r),f(r,u)},p(a,e){4&e&&m!==(m=a[15]+"")&&g(u,m),5&e&&p!==(p="pagination-link "+(a[0]===a[15]?"is-current":""))&&o(r,"class",p),4&e&&P!==(P=a[5](a[15]))&&o(r,"href",P)},d(a){a&&c(e)}}}function L(a){let e,r,g;return{c(){e=t("li"),r=t("span"),g=n("…"),this.h()},l(a){e=s(a,"LI",{});var t=l(e);r=s(t,"SPAN",{class:!0});var n=l(r);g=i(n,"…"),n.forEach(c),t.forEach(c),this.h()},h(){o(r,"class","pagination-ellipsis")},m(a,t){h(a,e,t),f(e,r),f(r,g)},d(a){a&&c(e)}}}function T(a){let e,r,v,d,E,$,N,y,A,T,x,w,C,H,_,j,D,S,B,R,q,G,M,O,U,V=a[3]&&I(),Y=[...a[2]],z=[];for(let e=0;e<Y.length;e+=1)z[e]=k(b(a,Y,e));let F=a[4]&&L();return{c(){e=t("nav"),r=t("ul"),v=t("li"),d=t("a"),E=n("<"),N=u(),y=t("li"),A=t("a"),T=n("1"),w=u(),V&&V.c(),C=u();for(let a=0;a<z.length;a+=1)z[a].c();H=u(),F&&F.c(),_=u(),j=t("li"),D=t("a"),S=n(a[1]),q=u(),G=t("li"),M=t("a"),O=n(">"),this.h()},l(t){e=s(t,"NAV",{class:!0});var n=l(e);r=s(n,"UL",{class:!0});var o=l(r);v=s(o,"LI",{});var h=l(v);d=s(h,"A",{class:!0,href:!0});var f=l(d);E=i(f,"<"),f.forEach(c),h.forEach(c),N=p(o),y=s(o,"LI",{});var g=l(y);A=s(g,"A",{class:!0,href:!0});var u=l(A);T=i(u,"1"),u.forEach(c),g.forEach(c),w=p(o),V&&V.l(o),C=p(o);for(let a=0;a<z.length;a+=1)z[a].l(o);H=p(o),F&&F.l(o),_=p(o),j=s(o,"LI",{});var P=l(j);D=s(P,"A",{class:!0,href:!0});var m=l(D);S=i(m,a[1]),m.forEach(c),P.forEach(c),q=p(o),G=s(o,"LI",{});var $=l(G);M=s($,"A",{class:!0,href:!0});var b=l(M);O=i(b,">"),b.forEach(c),$.forEach(c),o.forEach(c),n.forEach(c),this.h()},h(){o(d,"class","pagination-link"),o(d,"href",$=a[5](a[0]-1)),o(A,"class",x="pagination-link "+(1===a[0]?"is-current":"")),o(A,"href",a[5](1)),o(D,"class",B="pagination-link "+(a[0]===a[1]?"is-current":"")),o(D,"href",R=a[5](a[1]-1)),o(M,"class","pagination-link"),o(M,"href",U=a[5](a[0]+1)),o(r,"class","pagination-list"),o(e,"class","pagination")},m(a,t){h(a,e,t),f(e,r),f(r,v),f(v,d),f(d,E),f(r,N),f(r,y),f(y,A),f(A,T),f(r,w),V&&V.m(r,null),f(r,C);for(let a=0;a<z.length;a+=1)z[a].m(r,null);f(r,H),F&&F.m(r,null),f(r,_),f(r,j),f(j,D),f(D,S),f(r,q),f(r,G),f(G,M),f(M,O)},p(a,[e]){if(1&e&&$!==($=a[5](a[0]-1))&&o(d,"href",$),1&e&&x!==(x="pagination-link "+(1===a[0]?"is-current":""))&&o(A,"class",x),a[3]?V||(V=I(),V.c(),V.m(r,C)):V&&(V.d(1),V=null),37&e){let t;for(Y=[...a[2]],t=0;t<Y.length;t+=1){const n=b(a,Y,t);z[t]?z[t].p(n,e):(z[t]=k(n),z[t].c(),z[t].m(r,H))}for(;t<z.length;t+=1)z[t].d(1);z.length=Y.length}a[4]?F||(F=L(),F.c(),F.m(r,_)):F&&(F.d(1),F=null),2&e&&g(S,a[1]),3&e&&B!==(B="pagination-link "+(a[0]===a[1]?"is-current":""))&&o(D,"class",B),2&e&&R!==(R=a[5](a[1]-1))&&o(D,"href",R),1&e&&U!==(U=a[5](a[0]+1))&&o(M,"href",U)},i:P,o:P,d(a){a&&c(e),V&&V.d(),m(z,a),F&&F.d()}}}function x(a,e,r){let t,n,s,{currentPage:l}=e,{totalPage:i}=e,{perPage:c}=e,{path:o}=e,{paramNamePage:h}=e,{paramNamePerPage:f}=e,{displayPageCount:g=3}=e;return a.$$set=a=>{"currentPage"in a&&r(0,l=a.currentPage),"totalPage"in a&&r(1,i=a.totalPage),"perPage"in a&&r(6,c=a.perPage),"path"in a&&r(7,o=a.path),"paramNamePage"in a&&r(8,h=a.paramNamePage),"paramNamePerPage"in a&&r(9,f=a.paramNamePerPage),"displayPageCount"in a&&r(10,g=a.displayPageCount)},r(2,t=function(){let a=l-g;a<2&&(a=2);let e=l+g;return e>i-1&&(e=i-1),((a,e)=>[...Array(e-a)].map(((e,r)=>a+r)))(a,e)}()),r(3,n=l-g>=3),r(4,s=l+g<=i-2),[l,i,t,n,s,function(a){return`${o}?${h}=${a}&${f}=${c}`},c,o,h,f,g]}class w extends a{constructor(a){super(),e(this,a,x,T,r,{currentPage:0,totalPage:1,perPage:6,path:7,paramNamePage:8,paramNamePerPage:9,displayPageCount:10})}}function C(a,e,r){const t=a.slice();return t[4]=e[r],t}function H(a){let e,r,P,m,v,d,E,$,N,y,A=a[4].number+"",b=a[4].title+"";return{c(){e=t("tr"),r=t("th"),P=t("a"),m=n("#"),v=n(A),E=u(),$=t("td"),N=n(b),y=u(),this.h()},l(a){e=s(a,"TR",{});var t=l(e);r=s(t,"TH",{});var n=l(r);P=s(n,"A",{href:!0});var o=l(P);m=i(o,"#"),v=i(o,A),o.forEach(c),n.forEach(c),E=p(t),$=s(t,"TD",{});var h=l($);N=i(h,b),h.forEach(c),y=p(t),t.forEach(c),this.h()},h(){o(P,"href",d="/issues/"+a[4].number)},m(a,t){h(a,e,t),f(e,r),f(r,P),f(P,m),f(P,v),f(e,E),f(e,$),f($,N),f(e,y)},p(a,e){8&e&&A!==(A=a[4].number+"")&&g(v,A),8&e&&d!==(d="/issues/"+a[4].number)&&o(P,"href",d),8&e&&b!==(b=a[4].title+"")&&g(N,b)},d(a){a&&c(e)}}}function _(a){let e,r,g,P,A,b,I,k,L,T,x,_,j=a[3],D=[];for(let e=0;e<j.length;e+=1)D[e]=H(C(a,j,e));return x=new w({props:{currentPage:a[0],totalPage:a[2],perPage:a[1],path:"issues",paramNamePage:"page",paramNamePerPage:"per_page"}}),{c(){e=t("table"),r=t("thead"),g=t("th"),P=n("issue番号"),A=u(),b=t("th"),I=n("タイトル"),k=u(),L=t("tbody");for(let a=0;a<D.length;a+=1)D[a].c();T=u(),v(x.$$.fragment),this.h()},l(a){e=s(a,"TABLE",{class:!0});var t=l(e);r=s(t,"THEAD",{});var n=l(r);g=s(n,"TH",{});var o=l(g);P=i(o,"issue番号"),o.forEach(c),A=p(n),b=s(n,"TH",{});var h=l(b);I=i(h,"タイトル"),h.forEach(c),n.forEach(c),k=p(t),L=s(t,"TBODY",{});var f=l(L);for(let a=0;a<D.length;a+=1)D[a].l(f);f.forEach(c),t.forEach(c),T=p(a),d(x.$$.fragment,a),this.h()},h(){o(e,"class","table")},m(a,t){h(a,e,t),f(e,r),f(r,g),f(g,P),f(r,A),f(r,b),f(b,I),f(e,k),f(e,L);for(let a=0;a<D.length;a+=1)D[a].m(L,null);h(a,T,t),E(x,a,t),_=!0},p(a,[e]){if(8&e){let r;for(j=a[3],r=0;r<j.length;r+=1){const t=C(a,j,r);D[r]?D[r].p(t,e):(D[r]=H(t),D[r].c(),D[r].m(L,null))}for(;r<D.length;r+=1)D[r].d(1);D.length=j.length}const r={};1&e&&(r.currentPage=a[0]),4&e&&(r.totalPage=a[2]),2&e&&(r.perPage=a[1]),x.$set(r)},i(a){_||($(x.$$.fragment,a),_=!0)},o(a){N(x.$$.fragment,a),_=!1},d(a){a&&c(e),m(D,a),a&&c(T),y(x,a)}}}var j=function(a,e,r,t){return new(r||(r=Promise))((function(n,s){function l(a){try{c(t.next(a))}catch(a){s(a)}}function i(a){try{c(t.throw(a))}catch(a){s(a)}}function c(a){var e;a.done?n(a.value):(e=a.value,e instanceof r?e:new r((function(a){a(e)}))).then(l,i)}c((t=t.apply(a,e||[])).next())}))};function D({query:a}){return j(this,void 0,void 0,(function*(){const e=parseInt(a.page)||1,r=parseInt(a.per_page)||10,t=yield A.getIssues(e,r),n=(yield A.getRepo()).open_issues_count;return{pageParam:e,perPageParam:r,totalPage:Math.ceil(n/r),issues:t}}))}function S(a,e,r){let{pageParam:t}=e,{perPageParam:n}=e,{totalPage:s}=e,{issues:l}=e;return a.$$set=a=>{"pageParam"in a&&r(0,t=a.pageParam),"perPageParam"in a&&r(1,n=a.perPageParam),"totalPage"in a&&r(2,s=a.totalPage),"issues"in a&&r(3,l=a.issues)},[t,n,s,l]}export default class extends a{constructor(a){super(),e(this,a,S,_,r,{pageParam:0,perPageParam:1,totalPage:2,issues:3})}}export{D as preload};
